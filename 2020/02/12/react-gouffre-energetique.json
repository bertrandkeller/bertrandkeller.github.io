{ "id": "/2020/02/12/react-gouffre-energetique", "title": "ReactJs gouffre énergétique ?", "url": "https://bertrandkeller.info/2020/02/12/react-gouffre-energetique/", "date": 1581462000, "html": "<p>Je relaie pour vous une série d’articles ou REACTtion à propos de la biblitothèque React.js ; React.js dont le but est de faciliter la création d’application web monopage (WebApp), via la création de composants dépendant d’un état et générant une page (ou portion) HTML à chaque changement d’état.</p>\n\n<h2 id=\"lutilisation-de-reactjs\">L’utilisation de React.js</h2>\n\n<p>La technologie React.js est une innovation intéressante pour la réalisation d’interfaces de type Application Web. Elle permet de mettre en ligne des pages web (outils) dans lesquels il est possible de réaliser des actions sans avoir à recharger la page.</p>\n\n<p>N’est-ce pas formidable ? Pouvoir accéder à une application en utilisant un navigateur web ? Cela permet de construire un grand web universel auquel peut accéder toute personne munie d’un seul et même terminal.</p>\n\n<p>A condition de pouvoir s’en acheter une. Et d’avoir un bon forfait. Et aussi un bon processeur et de la RAM et la bonne version d’OS… sinon ça rame un peu… mais bon sinon c’est plutôt pas mal.</p>\n\n<p>En gros React.js, c’est un peu le futur ou tout le web deviendrait applicatif. La technologie que tout le monde doit adopter pour “numériser” ses services.</p>\n\n<p>Ainsi, qu’observe-t-on ? La plus grande partie des offres d’emplois dans le développement Front concernent React.js. Les entreprises ne cherchent pas des développeurs, mais des développeurs React. Indépendamment des compétences du développeur ou de sa capacité à progresser.</p>\n\n<p>En procédant de la sorte, premièrement on embauche n’importe qui du moment qu’il se déclare développeur React (manque de développeurs sur le marché) et, comme on a des développeurs qui connaissent React (plus que Javascript), on construit n’importe quel projet avec React (même si la technologie n’est pas adaptée).</p>\n\n<blockquote>\n <p>Au lieu d’apprendre les meilleures pratiques, nous enseignons aux développeurs à faire ce qui est le plus simple et à laisser le cadre gérer tout ce truc dégueulasse pour vous.\n C’est ce que beaucoup de développeurs appellent « bonne abstraction ».\n Mais cela signifie également que les développeurs sont impuissants sans leurs outils et ne reconnaissent pas quand l’outil fait la mauvaise chose.<br/>\n <strong>Chris Ferdinandi</strong></p>\n</blockquote>\n\n<h2 id=\"les-problmes-de-reactjs\">Les problèmes de React.js</h2>\n\n<p>Personnellement, je n’ai jamais critiqué une technologie et plutôt pris la position de réfléchir à l’utilisation de la technologie adaptée. Sur les questions d’impact énergétique, React consomme beaucoup trop de bande passante, temps processeurs… pour je défende la techno pour la réalisation de pages de contenus.</p>\n\n<h3 id=\"lhydratation\">L’Hydratation</h3>\n\n<p>L’hydratation Javascript fait référence au processus côté client (navigateur) au cours duquel du code JavaScript reprend le HTML statique envoyé par le serveur et le transforme en DOM dynamique qui peut réagir aux modifications des données côté client (navigateur).</p>\n\n<p>Autrement dit, cela permet de charger des zones de contenus que quand elles apparaissent à l‘utilisateur dans la fenêtre du navigateur (On ne charge pas toute la page, on gagne en performance). On pré-génére du HTML vide et on le remplit petit à petit.</p>\n\n<p>Que dit Jeremy :</p>\n\n<blockquote>\n <p>Le code HTML pré-généré n’est pas fonctionnel. Il a toujours besoin d’un chargement complet de JavaScript avant de pouvoir faire quoi que ce soit. Le processus réel est le suivant: exécuter React sur le serveur; envoyer du code HTML pré-généré à l’utilisateur; puis renvoyez tout mais cette fois en JavaScript, fourni avec la bibliothèque React entière.<br/>\n<strong>Jeremy Keith</strong></p>\n</blockquote>\n\n<p>En gros, on rend inutilisable des éléments, dit natifs, comme un bouton tant que le JavaScript n’est pas entièrement chargé. Pas pratique.</p>\n\n<p>Lire <a href=\"https://adactio.com/journal/16404\">Hydration</a> de Jeremy Keith.</p>\n\n<h3 id=\"charger-du-javascript-est-lourd\">Charger du JavaScript est lourd</h3>\n\n<p>Charger du JavaScript dans un navigateur, c’est chargé un fichier, mais aussi l’interpréter ensuite. Pour faire cela, la navigateur utilise de la ressource processeur et donc de la batterie.</p>\n\n<p>On estime qu’il faut doubler le poids en Kb d’un fichier JavaScript (par rapport à celui d’une image) car il doit être appelé puis chargé en mémoire puis être rendu. Pendant ce temps le processeur carbure et interprète.</p>\n\n<p>Pourtant certains défenseurs de React prétendent que JavaScript, c’est pas grave, car c’est moins lourd que de charger une image.</p>\n\n<p>Andy Bell n‘est pas content :</p>\n\n<div class=\"center\">\n\t{% twitter https://twitter.com/hankchizljaw/status/1224972729373405185 %}\n</div>\n<p><br/>\nLire aussi <a href=\"https://hankchizljaw.com/wrote/honesty-is-the-best-policy/\">Honesty is the best policy</a> d’Andy Bell.</p>\n\n<h3 id=\"mettre-du-html-et-de-la-css-dans-des-fichiers-js\">Mettre du HTML et de la CSS dans des fichiers JS</h3>\n\n<p>Avec React, on met du HTML et de la CSS dans du JavaScript. On a pas mal de controverses sur le sujet.</p>\n\n<p>Pour faire simple. Mettre du HTML et de la CSS dans du JavaScript, pourquoi pas. Ça correspond à un besoin des WebApps, cela simplifie pas mal de choses au niveau pour la rédaction de composants, de performance et de gestion de régression de code.</p>\n\n<p>Mais ça n’a pas que des avantages, et c’est aussi faire oublier le principe génial de la programmation déclarative dans lequel on annonce ce qu’on veut et la navigateur fait le reste.</p>\n\n<blockquote>\n <p>HTML est une abstraction déclarative inclue dans le moteur d’affichage d’un navigateur Web. Le navigateur s’occupe du “comment”, vous n’avez donc qu’à vous soucier du “quoi”. Vous pouvez profiter de la vie en écrivant du HTML déclaratif parce que les gens de Mozilla, de Google ou d’Apple ont écrit le code impératif pour vous.<br/>\n<strong>Mike Turley</strong></p>\n</blockquote>\n\n<p>Lire <a href=\"https://css-tricks.com/why-javascript-is-eating-html/\">Why JavaScript is Eating HTML</a> de Mike Turley.</p>\n\n<p>Quand vous faites du code déclaratif, il est contenu dans un fichier texte tout simple qui ne demande rien à personne. Mais quand vous mettez du HTML et de la CSS dans du code impératif (Un code qui ne dit pas quoi faire mais comment faire), il devient totalement dépendant du fonctionnement du code impératif.</p>\n\n<p>Le HTML et la CSS ne sont plus vraiment sources de la vérité, ils dépendent d’états qui sont gérés par le code JavaScript.</p>\n\n<p>Ça donne quoi selon Shane Jones :</p>\n\n<div class=\"center\">\n{% twitter https://twitter.com/shanejones/status/1228272744162381825 %}\n</div>\n<p><br/></p>\n\n<p>En gros, le HTML et la CSS sont chargé en mémoire et plus ou moins recalculé en permanence. A moins de savoir bien maîtrisé React mais d’après ce que j’entends peu de gens savent le faire.</p>\n\n<h2 id=\"conclusion\">Conclusion</h2>\n\n<p>Est-ce que React est mauvais ? Non. Est-ce que React va être remplacé par des technos plus mûres ? Peut-être.</p>\n\n<p>React est très pratique pour réaliser des WebApps, des applications. Les applications sont des interfaces métiers permettant de réaliser des tâches plus ou moins complexes. Il est donc presque normal de devoir ou pouvoir charger du code métier un peu plus lourd avec des éléments structurels optimisés et cela sans trop faire baisser les performances.</p>\n\n<p>Nous voulons faire baisser nos consommations d’énergie et donc réduire l’empreinte de nos outils informatiques. Dans une logique GreenIT l’idée est d‘utiliser la technique la plus adaptée. Une application web, tout comme un bout de papier ou un simple SMS.</p>\n\n<p>Le monde du développement informatique (par culte du cargo) a tendance, selon ce que je perçois, à mettre en place de WebApps quand un simple code HTML suffit. A utiliser React quand une simple générateur de sites statiques fait le taf en 10 fois moins cher et 10 fois plus rapide. Tout cela au service, non pas du produit, non pas de l’utilisateur, mais du développeur (lire <a href=\"https://uxdesign.cc/putting-devs-before-users-how-frameworks-destroyed-web-performance-6b2c2a506aab\">Putting devs before users: how frameworks destroyed web performance</a>).</p>\n\n<p>C’est peut-être pour ça que tant de personnes réagissent en ce moment sur la consommation énergivore de React. Et c’est pour ça qu’on augmente la consommation d’énergie lié au numérique plutôt que de la faire baisser.</p>\n", "markdown": "Je relaie pour vous une série d'articles ou REACTtion à propos de la biblitothèque React.js ; React.js dont le but est de faciliter la création d'application web monopage (WebApp), via la création de composants dépendant d’un état et générant une page (ou portion) HTML à chaque changement d'état.\n\n\n## L’utilisation de React.js\n\nLa technologie React.js est une innovation intéressante pour la réalisation d'interfaces de type Application Web. Elle permet de mettre en ligne des pages web (outils) dans lesquels il est possible de réaliser des actions sans avoir à recharger la page.\n\nN’est-ce pas formidable ? Pouvoir accéder à une application en utilisant un navigateur web ? Cela permet de construire un grand web universel auquel peut accéder toute personne munie d'un seul et même terminal.\n\nA condition de pouvoir s'en acheter une. Et d’avoir un bon forfait. Et aussi un bon processeur et de la RAM et la bonne version d’OS… sinon ça rame un peu… mais bon sinon c’est plutôt pas mal.\n\nEn gros React.js, c’est un peu le futur ou tout le web deviendrait applicatif. La technologie que tout le monde doit adopter pour \"numériser\" ses services.\n\nAinsi, qu’observe-t-on ? La plus grande partie des offres d’emplois dans le développement Front concernent React.js. Les entreprises ne cherchent pas des développeurs, mais des développeurs React. Indépendamment des compétences du développeur ou de sa capacité à progresser.\n\nEn procédant de la sorte, premièrement on embauche n’importe qui du moment qu'il se déclare développeur React (manque de développeurs sur le marché) et, comme on a des développeurs qui connaissent React (plus que Javascript), on construit n’importe quel projet avec React (même si la technologie n’est pas adaptée).\n\n> Au lieu d'apprendre les meilleures pratiques, nous enseignons aux développeurs à faire ce qui est le plus simple et à laisser le cadre gérer tout ce truc dégueulasse pour vous.\n C’est ce que beaucoup de développeurs appellent « bonne abstraction ».\n Mais cela signifie également que les développeurs sont impuissants sans leurs outils et ne reconnaissent pas quand l’outil fait la mauvaise chose. \n __Chris Ferdinandi__\n\n## Les problèmes de React.js\n\nPersonnellement, je n’ai jamais critiqué une technologie et plutôt pris la position de réfléchir à l’utilisation de la technologie adaptée. Sur les questions d’impact énergétique, React consomme beaucoup trop de bande passante, temps processeurs… pour je défende la techno pour la réalisation de pages de contenus.\n\n### L'Hydratation\n\nL'hydratation Javascript fait référence au processus côté client (navigateur) au cours duquel du code JavaScript reprend le HTML statique envoyé par le serveur et le transforme en DOM dynamique qui peut réagir aux modifications des données côté client (navigateur).\n\nAutrement dit, cela permet de charger des zones de contenus que quand elles apparaissent à l‘utilisateur dans la fenêtre du navigateur (On ne charge pas toute la page, on gagne en performance). On pré-génére du HTML vide et on le remplit petit à petit.\n\nQue dit Jeremy :\n\n> Le code HTML pré-généré n'est pas fonctionnel. Il a toujours besoin d'un chargement complet de JavaScript avant de pouvoir faire quoi que ce soit. Le processus réel est le suivant: exécuter React sur le serveur; envoyer du code HTML pré-généré à l'utilisateur; puis renvoyez tout mais cette fois en JavaScript, fourni avec la bibliothèque React entière. \n__Jeremy Keith__\n\nEn gros, on rend inutilisable des éléments, dit natifs, comme un bouton tant que le JavaScript n’est pas entièrement chargé. Pas pratique.\n\nLire [Hydration](https://adactio.com/journal/16404) de Jeremy Keith.\n\n### Charger du JavaScript est lourd\n\nCharger du JavaScript dans un navigateur, c’est chargé un fichier, mais aussi l’interpréter ensuite. Pour faire cela, la navigateur utilise de la ressource processeur et donc de la batterie.\n\nOn estime qu’il faut doubler le poids en Kb d’un fichier JavaScript (par rapport à celui d'une image) car il doit être appelé puis chargé en mémoire puis être rendu. Pendant ce temps le processeur carbure et interprète.\n\nPourtant certains défenseurs de React prétendent que JavaScript, c’est pas grave, car c’est moins lourd que de charger une image.\n\nAndy Bell n‘est pas content :\n\n<div class=\"center\">\n\t{% twitter https://twitter.com/hankchizljaw/status/1224972729373405185 %}\n</div>\n<br>\nLire aussi [Honesty is the best policy](https://hankchizljaw.com/wrote/honesty-is-the-best-policy/) d’Andy Bell.\n\n\n### Mettre du HTML et de la CSS dans des fichiers JS\n\nAvec React, on met du HTML et de la CSS dans du JavaScript. On a pas mal de controverses sur le sujet.\n\nPour faire simple. Mettre du HTML et de la CSS dans du JavaScript, pourquoi pas. Ça correspond à un besoin des WebApps, cela simplifie pas mal de choses au niveau pour la rédaction de composants, de performance et de gestion de régression de code.\n\nMais ça n'a pas que des avantages, et c'est aussi faire oublier le principe génial de la programmation déclarative dans lequel on annonce ce qu'on veut et la navigateur fait le reste.\n\n> HTML est une abstraction déclarative inclue dans le moteur d'affichage d’un navigateur Web. Le navigateur s’occupe du \"comment\", vous n’avez donc qu’à vous soucier du \"quoi\". Vous pouvez profiter de la vie en écrivant du HTML déclaratif parce que les gens de Mozilla, de Google ou d'Apple ont écrit le code impératif pour vous. \n__Mike Turley__\n\nLire [Why JavaScript is Eating HTML](https://css-tricks.com/why-javascript-is-eating-html/) de Mike Turley.\n\nQuand vous faites du code déclaratif, il est contenu dans un fichier texte tout simple qui ne demande rien à personne. Mais quand vous mettez du HTML et de la CSS dans du code impératif (Un code qui ne dit pas quoi faire mais comment faire), il devient totalement dépendant du fonctionnement du code impératif.\n\nLe HTML et la CSS ne sont plus vraiment sources de la vérité, ils dépendent d’états qui sont gérés par le code JavaScript.\n\nÇa donne quoi selon Shane Jones :\n\n<div class=\"center\">\n{% twitter https://twitter.com/shanejones/status/1228272744162381825 %}\n</div>\n<br>\n\n\nEn gros, le HTML et la CSS sont chargé en mémoire et plus ou moins recalculé en permanence. A moins de savoir bien maîtrisé React mais d’après ce que j’entends peu de gens savent le faire.\n\n## Conclusion\n\nEst-ce que React est mauvais ? Non. Est-ce que React va être remplacé par des technos plus mûres ? Peut-être.\n\nReact est très pratique pour réaliser des WebApps, des applications. Les applications sont des interfaces métiers permettant de réaliser des tâches plus ou moins complexes. Il est donc presque normal de devoir ou pouvoir charger du code métier un peu plus lourd avec des éléments structurels optimisés et cela sans trop faire baisser les performances.\n\nNous voulons faire baisser nos consommations d’énergie et donc réduire l’empreinte de nos outils informatiques. Dans une logique GreenIT l’idée est d‘utiliser la technique la plus adaptée. Une application web, tout comme un bout de papier ou un simple SMS.\n\nLe monde du développement informatique (par culte du cargo) a tendance, selon ce que je perçois, à mettre en place de WebApps quand un simple code HTML suffit. A utiliser React quand une simple générateur de sites statiques fait le taf en 10 fois moins cher et 10 fois plus rapide. Tout cela au service, non pas du produit, non pas de l’utilisateur, mais du développeur (lire [Putting devs before users: how frameworks destroyed web performance](https://uxdesign.cc/putting-devs-before-users-how-frameworks-destroyed-web-performance-6b2c2a506aab)).\n\nC’est peut-être pour ça que tant de personnes réagissent en ce moment sur la consommation énergivore de React. Et c’est pour ça qu'on augmente la consommation d’énergie lié au numérique plutôt que de la faire baisser.\n" }