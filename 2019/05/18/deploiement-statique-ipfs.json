{ "id": "/2019/05/18/deploiement-statique-ipfs", "title": "DÃ©ploiement de votre premier site web statique sur IPFS", "url": "https://bertrandkeller.info/2019/05/18/deploiement-statique-ipfs/", "date": 1558130400, "html": "<p>Traduction de lâ€™article <a href=\"https://medium.com/interplanetary-gatsby/the-complete-beginners-guide-to-deploying-your-first-static-website-to-ipfs-103b27e8822e\">The Complete Beginnerâ€™s Guide to Deploying Your First Static Website to IPFS</a>.</p>\n\n<p>Pour cet article ? Parce que le web est centralisÃ© Ã  travers de grandes plateformes ; que cette centralisation permet de contrÃ´ler les flux, des contrÃ´ler les gens et de les taxer. Le web consiste Ã  permettre le libre Ã©change citoyen.</p>\n\n<p>Vous nâ€™avez besoin de rien savoir sur IPFS ou sur le Â« web distribuÃ© Â», pas mÃªme les gÃ©nÃ©rateurs de sites statiques. La premiÃ¨re Ã©tape consiste Ã  ouvrir votre terminal et Ã  taper ceci dans:</p>\n\n<p>```bash\nmkdir -p dwebsite/public\ncd dwebsite\necho â€˜&lt;h1&gt;Hello, worlds!&lt;/h1&gt;â€™Â Â» public/index.html</p>\n\n<p>yarn global add @agentofuser/ipfs-deploy\nipd\n```</p>\n\n<p>Maintenant, asseyez-vous et observez les logs.</p>\n\n<p><code>bash\nâ„¹ ğŸ¤” No path argument specified. Looking for common ones... \nâœ” ğŸ“‚ Found local public directory. Deploying that. \nâœ” ğŸšš public weighs 24 B. \nâœ” ğŸ“Œ Itâ€™s pinned to Infura now with hash: \nâ„¹ ğŸ”— QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY \nâœ” ğŸ“‹ Copied HTTP gateway URL to clipboard: \nâ„¹ ğŸ”— https://ipfs.infura.io/ipfs/QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY \nâœ” ğŸ„ Opened web browser (call with -O to disable.)\n</code></p>\n\n<p>Et voilÃ . Votre propre l33t <a href=\"https://twitter.com/search?q=%23dweb\">#dwebsite</a> (The Decentralized Web) en ligne sur le rÃ©seau <a href=\"https://cloudflare-ipfs.com/ipfs/QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY\">Merkleverse</a>.</p>\n\n<h2 id=\"quest-ce-qui-vient-de-se-passer\">Quâ€™est-ce qui vient de se passer?</h2>\n\n<p>Pas Ã©vident Ã  comprendre en une fois. Revenons un peu en arriÃ¨re et regardons-le au ralenti, avec quelques commentaires :</p>\n\n<h3 id=\"o-a-se-passe-\">1. OÃ¹ Ã§a se passe ?</h3>\n\n<p>Ã€ vrai dire, jâ€™aurais pu appeler <code>ipd ./public</code>, en passant le rÃ©pertoire Ã  dÃ©ployer (public) explicitement.</p>\n\n<p>Mais alors, vous ne verriez pas lâ€™emoji ğŸ¤” comme une sonde ipfs-deploy pour lâ€™une des nombreuses destinations, souvent non documentÃ©es, de <a href=\"https://github.com/agentofuser/ipfs-deploy/blob/8023d82b5df68076ca79bc684f45ea64e5e67c06/index.js#L75\">construction habituellement utilisÃ©es par les gÃ©nÃ©rateurs de sites statiques</a>.</p>\n\n<p><code>bash\nâ„¹ ğŸ¤” No path argument specified. Looking for common ones... \nâœ” ğŸ“‚ Found local public directory. Deploying that.\n</code></p>\n\n<p>Oui, jâ€™ai en fait passÃ© au peigne fin le site <a href=\"https://staticgen.com\">staticgen.com</a>, installÃ© plusieurs de ces gÃ©nÃ©rateurs de sites statiques et crÃ©Ã© de petits sites de test afin de pouvoir appliquer ce titre â€œzÃ©ro configurationâ€.</p>\n\n<p>Câ€™est ce que recherche <em>ipfs-deploy</em> vous Ã©viter de le taper :</p>\n\n<p><code>bash\nconst guesses = [\n '_site', // jekyll, hakyll, eleventy\n 'site', // forgot which\n 'public', // gatsby, hugo\n 'dist', // nuxt\n 'output', // pelican\n 'out', // hexo\n 'build', // metalsmith, middleman\n 'website/build', // docusaurus\n 'docs', // many others\n]\n</code></p>\n\n<p>Comme vous pouvez le voir avec le nom de cette publication, je suis un fan de Gatsby, mais <em>ipfs-deploy</em> sert tous ceux qui en ont besoin. Apportez votre propre SSG (GÃ©nÃ©rateur de site statique), nous lÃ¢cherons un jetpack interplanÃ©taire sur notre dos et le ferons voler. ğŸš€</p>\n\n<h3 id=\"le-tlchargement\">2. Le tÃ©lÃ©chargement</h3>\n\n<p>Câ€™est la raison pour laquelle nous sommes ici, câ€™est-Ã -dire placer le site web dans lâ€™espace (au figurÃ©, pour le moment). Donc, quelques secondes plus tard, <em>ipfs-deploy</em> fournit:</p>\n\n<p><code>bash\nâœ” ğŸ“Œ Itâ€™s pinned to Infura now with hash:\nâ„¹ ğŸ”— QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY\n</code></p>\n\n<p>Victoire !</p>\n\n<p>Cette petite gÃ©nÃ©ration/diffusion dâ€™un <a href=\"https://multiformats.io/multihash/\">hash</a> est le nÅ“ud de tout le judo #dweb (The Decentralized Web). La formule magique qui appelle votre site Web depuis les profondeurs caverneuses des donjons connectÃ©s, sans se soucier de savoir oÃ¹ il se trouve, mais seulement de savoir de quoi il retourne.</p>\n\n<p><strong>Un adressage intrinsÃ¨que, non liÃ© par la localisation ou la route.</strong></p>\n\n<p>Bienvenue <attitude grave=\"\"> dans le futur distribuÃ©.</attitude></p>\n\n<h2 id=\"attendez-une-minute-je-pensais-vous-avoir-entendu-dire-distribu\">Attendez une minute, je pensais vous avoir entendu dire â€œdistribuÃ©â€</h2>\n\n<p>Oh, lecteur perspicace.</p>\n\n<p>Vous avez raison : si IPFS est censÃ© Ãªtre un protocole poste Ã  poste (pair Ã  pair), pourquoi tÃ©lÃ©charge-t-on tout de mÃªme lâ€™ensemble du site, nâ€™est-ce pas ? Pour un serveur !?</p>\n\n<p>Ne devrions-nous pas simplement annoncer au rÃ©seau que nous avons le hachage et ensuite attendre de le servir nous-mÃªmes Ã  dâ€™autres pairs Ã  la demande ?</p>\n\n<p>Oui, vous pouvez faire Ã§a. Ensuite, vous fermez votre ordinateur portable, le wifi diminue, ğŸ’© arrive, et pouf âœ¨, votre site web disparaÃ®t.</p>\n\n<p>Cela ressemble aux torrents : il faut au moins un semeur (personne qui possÃ¨de une copie complÃ¨te du fichier partagÃ© sur le rÃ©seau torrent.) pour que le contenu soit accessible. Si votre site web compte des tonnes de personnes qui exÃ©cutent leur propre nÅ“ud IPFS et le rÃ©-servent Ã  dâ€™autres, votre temps de disponibilitÃ© sera en moyenne assez Ã©levÃ©.</p>\n\n<p>Mais il nâ€™y a pas encore beaucoup de visiteurs de ce type (espÃ©rons-le, <a href=\"https://brave.com/\">Brave</a> rÃ©glera ce problÃ¨me pour nous) et, en plus, câ€™est un tout nouveau site web !</p>\n\n<p>Ce serait une autre histoire si les navigateurs avaient un <a href=\"https://twitter.com/search?q=%23asyncUX\">#asyncUX</a> dÃ©cent et que les visiteurs pouvaient facilement leur dire de mettre le tÃ©lÃ©chargement en file dâ€™attente lorsquâ€™un homologue est disponible, puis de lâ€™avertir lorsquâ€™il Ã©tait prÃªt (comme un flux continu Â« Ã  lire plus tard Â»).</p>\n\n<p>Mais dans lâ€™Ã©tat actuel des choses, sâ€™il nâ€™y a personne pour servir votre contenu au moment oÃ¹ une demande est faite, la situation est en suspend. Vous nâ€™Ãªtes donc pas <a href=\"https://interplanetarygatsby.com/foreword/\">prÃªt pour lâ€™espace</a>.</p>\n\n<p>Nous avons donc besoin dâ€™un semoir Ã  haute disponibilitÃ© de notre cÃ´tÃ©. Ou, dans le jargon IPFS, un Â« pinner Â» (Ã©plinglage garantissant que les objets sont conservÃ©s dans le stockage local du noeud).</p>\n\n<h2 id=\"zero-config-pinning-avec-infuraio\">Zero-Config Pinning avec Infura.io</h2>\n\n<p>Lâ€™objectif principal de <em>ipfs-deploy</em> est de vous permettre de vivre une premiÃ¨re expÃ©rience heureuse consistant Ã  voir quelque chose que vous avez crÃ©Ã© sur IPFS le plus rapidement possible.</p>\n\n<p>Une faÃ§on de le faire consiste Ã  exÃ©cuter un dÃ©mon IPFS local et rendre disponible le contenu vous-mÃªme.</p>\n\n<p>Mais comme nous lâ€™avons vu plus haut, ce serait un peu ridicule car cela ne reprÃ©sente pas ce Ã  quoi un dÃ©ploiement rÃ©el que vous pouvez partager avec vos amis pourrait ressembler. Je dois avoir un pinner stable.</p>\n\n<p>Bien Ã©pingler avec un temps de disponibilitÃ© dÃ©cent coÃ»te de lâ€™argent, alors la plupart des services dâ€™Ã©pinglage exigent naturellement que vous vous inscriviez au moins Ã  un niveau gratuit avant dâ€™accepter dâ€™hÃ©berger votre site web.</p>\n\n<p>Pas <a href=\"https://infura.io/docs/ipfs/get/block_get.md\">Infura.io</a> !</p>\n\n<p>Par magie de la limitation prudente des taux, de la prÃ©vention intelligente des abus, du capital de croissance ou de lâ€™abandon tÃ©mÃ©raire, ils vous permettent de tÃ©lÃ©charger des Ã©lÃ©ments Ã  lâ€™abri, <a href=\"https://community.infura.io/t/how-often-do-you-garbage-collect-files-on-your-ipfs-node-and-how-long-will-a-file-persist-after-upload/44/2\">sans authentification</a>, et ils vous le serviront indÃ©finiment. (MÃªme contre votre volontÃ© semble-t-il, car il nâ€™y a pas de moyen clair de dÃ©tacher les choses pour le moment.)</p>\n\n<p>Nous devons donc cette possibilitÃ© Ã  leur simple gÃ©nÃ©rositÃ© : merci Ã  Infura, et continuez comme Ã§a !</p>\n\n<p>De plus, si vous possÃ©dez vous-mÃªme un service dâ€™Ã©pinglage et que vous souhaitez faire partie du paquet de bienvenue de zÃ©ro-configuration, envisagez dâ€™ajouter un niveau Â« encore plus libre Â» qui ne nÃ©cessite pas dâ€™inscription.</p>\n\n<p>Les sites web statiques nouvellement crÃ©Ã©s ne prennent pas beaucoup de place, ont trÃ¨s peu de trafic et constituent une excellente passerelle pour une consommation accrue dâ€™IPFS.</p>\n\n<p>Vous nâ€™avez pas seulement dÃ©ployÃ© votre premier site web IPFS, mais vous pouvez maintenant vous vanter de bien comprendre son fonctionnement en agitant les mains et en disant Â« Oh, câ€™est un peu comme git + bittorrent Â»</p>\n\n<p>Alors, <a href=\"https://github.com/agentofuser/ipfs-deploy/issues/new\">dites-moi ce qui ne va pas</a> et je vais rÃ©gler le problÃ¨me pour vous.</p>\n", "markdown": "Traduction de lâ€™article [The Complete Beginnerâ€™s Guide to Deploying Your First Static Website to IPFS](https://medium.com/interplanetary-gatsby/the-complete-beginners-guide-to-deploying-your-first-static-website-to-ipfs-103b27e8822e).\n\nPour cet article ? Parce que le web est centralisÃ© Ã  travers de grandes plateformes ; que cette centralisation permet de contrÃ´ler les flux, des contrÃ´ler les gens et de les taxer. Le web consiste Ã  permettre le libre Ã©change citoyen.\n\nVous n'avez besoin de rien savoir sur IPFS ou sur le Â« web distribuÃ© Â», pas mÃªme les gÃ©nÃ©rateurs de sites statiques. La premiÃ¨re Ã©tape consiste Ã  ouvrir votre terminal et Ã  taper ceci dans:\n\n```bash\nmkdir -p dwebsite/public\ncd dwebsite\necho '<h1>Hello, worlds!</h1>' >> public/index.html\n\nyarn global add @agentofuser/ipfs-deploy\nipd\n```\n\nMaintenant, asseyez-vous et observez les logs.\n\n```bash\nâ„¹ ğŸ¤” No path argument specified. Looking for common ones... \nâœ” ğŸ“‚ Found local public directory. Deploying that. \nâœ” ğŸšš public weighs 24 B. \nâœ” ğŸ“Œ Itâ€™s pinned to Infura now with hash: \nâ„¹ ğŸ”— QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY \nâœ” ğŸ“‹ Copied HTTP gateway URL to clipboard: \nâ„¹ ğŸ”— https://ipfs.infura.io/ipfs/QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY \nâœ” ğŸ„ Opened web browser (call with -O to disable.)\n```\n\nEt voilÃ . Votre propre l33t [#dwebsite](https://twitter.com/search?q=%23dweb) (The Decentralized Web) en ligne sur le rÃ©seau [Merkleverse](https://cloudflare-ipfs.com/ipfs/QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY).\n\n\n## Qu'est-ce qui vient de se passer?\n\nPas Ã©vident Ã  comprendre en une fois. Revenons un peu en arriÃ¨re et regardons-le au ralenti, avec quelques commentaires :\n\n### 1. OÃ¹ Ã§a se passe ?\n\nÃ€ vrai dire, jâ€™aurais pu appeler `ipd ./public`, en passant le rÃ©pertoire Ã  dÃ©ployer (public) explicitement.\n\nMais alors, vous ne verriez pas lâ€™emoji ğŸ¤” comme une sonde ipfs-deploy pour lâ€™une des nombreuses destinations, souvent non documentÃ©es, de [construction habituellement utilisÃ©es par les gÃ©nÃ©rateurs de sites statiques](https://github.com/agentofuser/ipfs-deploy/blob/8023d82b5df68076ca79bc684f45ea64e5e67c06/index.js#L75).\n\n\n```bash\nâ„¹ ğŸ¤” No path argument specified. Looking for common ones... \nâœ” ğŸ“‚ Found local public directory. Deploying that.\n```\n\nOui, j'ai en fait passÃ© au peigne fin le site [staticgen.com](https://staticgen.com), installÃ© plusieurs de ces gÃ©nÃ©rateurs de sites statiques et crÃ©Ã© de petits sites de test afin de pouvoir appliquer ce titre \"zÃ©ro configuration\".\n\nC'est ce que recherche *ipfs-deploy* vous Ã©viter de le taper :\n\n```bash\nconst guesses = [\n '_site', // jekyll, hakyll, eleventy\n 'site', // forgot which\n 'public', // gatsby, hugo\n 'dist', // nuxt\n 'output', // pelican\n 'out', // hexo\n 'build', // metalsmith, middleman\n 'website/build', // docusaurus\n 'docs', // many others\n]\n```\n\nComme vous pouvez le voir avec le nom de cette publication, je suis un fan de Gatsby, mais *ipfs-deploy* sert tous ceux qui en ont besoin. Apportez votre propre SSG (GÃ©nÃ©rateur de site statique), nous lÃ¢cherons un jetpack interplanÃ©taire sur notre dos et le ferons voler. ğŸš€\n\n### 2. Le tÃ©lÃ©chargement\n\nCâ€™est la raison pour laquelle nous sommes ici, câ€™est-Ã -dire placer le site web dans lâ€™espace (au figurÃ©, pour le moment). Donc, quelques secondes plus tard, *ipfs-deploy* fournit:\n\n```bash\nâœ” ğŸ“Œ Itâ€™s pinned to Infura now with hash:\nâ„¹ ğŸ”— QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY\n```\n\nVictoire !\n\nCette petite gÃ©nÃ©ration/diffusion dâ€™un [hash](https://multiformats.io/multihash/) est le nÅ“ud de tout le judo #dweb (The Decentralized Web). La formule magique qui appelle votre site Web depuis les profondeurs caverneuses des donjons connectÃ©s, sans se soucier de savoir oÃ¹ il se trouve, mais seulement de savoir de quoi il retourne.\n\n**Un adressage intrinsÃ¨que, non liÃ© par la localisation ou la route.**\n\nBienvenue <attitude grave> dans le futur distribuÃ©.\n\n## Attendez une minute, je pensais vous avoir entendu dire â€œdistribuÃ©â€\n\nOh, lecteur perspicace.\n\nVous avez raison : si IPFS est censÃ© Ãªtre un protocole poste Ã  poste (pair Ã  pair), pourquoi tÃ©lÃ©charge-t-on tout de mÃªme lâ€™ensemble du site, n'est-ce pas ? Pour un serveur !?\n\nNe devrions-nous pas simplement annoncer au rÃ©seau que nous avons le hachage et ensuite attendre de le servir nous-mÃªmes Ã  d'autres pairs Ã  la demande ?\n\nOui, vous pouvez faire Ã§a. Ensuite, vous fermez votre ordinateur portable, le wifi diminue, ğŸ’© arrive, et pouf âœ¨, votre site web disparaÃ®t.\n\nCela ressemble aux torrents : il faut au moins un semeur (personne qui possÃ¨de une copie complÃ¨te du fichier partagÃ© sur le rÃ©seau torrent.) pour que le contenu soit accessible. Si votre site web compte des tonnes de personnes qui exÃ©cutent leur propre nÅ“ud IPFS et le rÃ©-servent Ã  dâ€™autres, votre temps de disponibilitÃ© sera en moyenne assez Ã©levÃ©.\n\nMais il nâ€™y a pas encore beaucoup de visiteurs de ce type (espÃ©rons-le, [Brave](https://brave.com/) rÃ©glera ce problÃ¨me pour nous) et, en plus, câ€™est un tout nouveau site web !\n\nCe serait une autre histoire si les navigateurs avaient un [#asyncUX](https://twitter.com/search?q=%23asyncUX) dÃ©cent et que les visiteurs pouvaient facilement leur dire de mettre le tÃ©lÃ©chargement en file dâ€™attente lorsquâ€™un homologue est disponible, puis de l'avertir lorsquâ€™il Ã©tait prÃªt (comme un flux continu Â« Ã  lire plus tard Â»).\n\nMais dans lâ€™Ã©tat actuel des choses, sâ€™il nâ€™y a personne pour servir votre contenu au moment oÃ¹ une demande est faite, la situation est en suspend. Vous nâ€™Ãªtes donc pas [prÃªt pour l'espace](https://interplanetarygatsby.com/foreword/).\n\nNous avons donc besoin dâ€™un semoir Ã  haute disponibilitÃ© de notre cÃ´tÃ©. Ou, dans le jargon IPFS, un Â« pinner Â» (Ã©plinglage garantissant que les objets sont conservÃ©s dans le stockage local du noeud).\n\n## Zero-Config Pinning avec Infura.io\n\nLâ€™objectif principal de *ipfs-deploy* est de vous permettre de vivre une premiÃ¨re expÃ©rience heureuse consistant Ã  voir quelque chose que vous avez crÃ©Ã© sur IPFS le plus rapidement possible.\n\nUne faÃ§on de le faire consiste Ã  exÃ©cuter un dÃ©mon IPFS local et rendre disponible le contenu vous-mÃªme.\n\nMais comme nous lâ€™avons vu plus haut, ce serait un peu ridicule car cela ne reprÃ©sente pas ce Ã  quoi un dÃ©ploiement rÃ©el que vous pouvez partager avec vos amis pourrait ressembler. Je dois avoir un pinner stable.\n\nBien Ã©pingler avec un temps de disponibilitÃ© dÃ©cent coÃ»te de lâ€™argent, alors la plupart des services dâ€™Ã©pinglage exigent naturellement que vous vous inscriviez au moins Ã  un niveau gratuit avant dâ€™accepter dâ€™hÃ©berger votre site web.\n\nPas [Infura.io](https://infura.io/docs/ipfs/get/block_get.md) !\n\nPar magie de la limitation prudente des taux, de la prÃ©vention intelligente des abus, du capital de croissance ou de lâ€™abandon tÃ©mÃ©raire, ils vous permettent de tÃ©lÃ©charger des Ã©lÃ©ments Ã  lâ€™abri, [sans authentification](https://community.infura.io/t/how-often-do-you-garbage-collect-files-on-your-ipfs-node-and-how-long-will-a-file-persist-after-upload/44/2), et ils vous le serviront indÃ©finiment. (MÃªme contre votre volontÃ© semble-t-il, car il n'y a pas de moyen clair de dÃ©tacher les choses pour le moment.)\n\nNous devons donc cette possibilitÃ© Ã  leur simple gÃ©nÃ©rositÃ© : merci Ã  Infura, et continuez comme Ã§a !\n\nDe plus, si vous possÃ©dez vous-mÃªme un service d'Ã©pinglage et que vous souhaitez faire partie du paquet de bienvenue de zÃ©ro-configuration, envisagez d'ajouter un niveau Â« encore plus libre Â» qui ne nÃ©cessite pas d'inscription.\n\nLes sites web statiques nouvellement crÃ©Ã©s ne prennent pas beaucoup de place, ont trÃ¨s peu de trafic et constituent une excellente passerelle pour une consommation accrue dâ€™IPFS.\n\nVous nâ€™avez pas seulement dÃ©ployÃ© votre premier site web IPFS, mais vous pouvez maintenant vous vanter de bien comprendre son fonctionnement en agitant les mains et en disant Â« Oh, câ€™est un peu comme git + bittorrent Â»\n\nAlors, [dites-moi ce qui ne va pas](https://github.com/agentofuser/ipfs-deploy/issues/new) et je vais rÃ©gler le problÃ¨me pour vous.\n" }