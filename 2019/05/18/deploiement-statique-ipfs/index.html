<!DOCTYPE html> <html lang="fr"> <head> <meta charset="utf-8"> <link href="https://gmpg.org/xfn/11" rel="profile"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <title>DÃ©ploiement de votre premier site web statique sur IPFS | Bertrand Keller</title> <meta name="generator" content="Jekyll v3.9.0"/> <meta property="og:title" content="DÃ©ploiement de votre premier site web statique sur IPFS"/> <meta name="author" content="Bertrand Keller"/> <meta property="og:locale" content="fr"/> <meta name="description" content="Traduction de lâ€™article The Complete Beginnerâ€™s Guide to Deploying Your First Static Website to IPFS."/> <meta property="og:description" content="Traduction de lâ€™article The Complete Beginnerâ€™s Guide to Deploying Your First Static Website to IPFS."/> <link rel="canonical" href="https://bertrandkeller.info/2019/05/18/deploiement-statique-ipfs/"/> <meta property="og:url" content="https://bertrandkeller.info/2019/05/18/deploiement-statique-ipfs/"/> <meta property="og:site_name" content="âœŠÂ Bertrand Keller"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2019-05-18T00:00:00+02:00"/> <meta name="twitter:card" content="summary"/> <meta property="twitter:title" content="DÃ©ploiement de votre premier site web statique sur IPFS"/> <meta name="twitter:site" content="@bertrandkeller"/> <meta name="twitter:creator" content="@Bertrand Keller"/> <script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://bertrandkeller.info/2019/05/18/deploiement-statique-ipfs/"},"url":"https://bertrandkeller.info/2019/05/18/deploiement-statique-ipfs/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://bertrandkeller.info/assets/bertrandkeller.png"},"name":"Bertrand Keller"},"headline":"DÃ©ploiement de votre premier site web statique sur IPFS","dateModified":"2019-05-18T00:00:00+02:00","datePublished":"2019-05-18T00:00:00+02:00","author":{"@type":"Person","name":"Bertrand Keller"},"description":"Traduction de lâ€™article The Complete Beginnerâ€™s Guide to Deploying Your First Static Website to IPFS.","@type":"BlogPosting","@context":"https://schema.org"}</script> <meta name="subject" content="Histoire de gestion de contenu, gÃ©nÃ©rateur de site internet statique, Ã©co-conception et Low-Tech"> <meta name="generator" content="jekyll v3.9.0"> <meta itemprop="name" content="DÃ©ploiement de votre premier site web statique sur IPFS | Bertrand Keller"> <meta itemprop="description" content="Histoire de gestion de contenu, gÃ©nÃ©rateur de site internet statique, Ã©co-conception et Low-Tech"> <meta itemprop="image" content="/assets/bertrandkeller.png"> <meta name="robots" content=""> <link rel="preload" href="/assets/css/main.css" as="style" crossorigin=anonymous> <link href="/assets/css/main.css" rel="stylesheet"> <link href="/assets/css/font.css" rel="stylesheet"> <link rel="pingback" href="https://webmention.io/bertrandkeller.info/xmlrpc"/> <link href="https://github.com/bertrandkeller" rel="me"> <script data-no-instant>
    !function(){"use strict";function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e){return window.localStorage&&localStorage.font_css_cache&&localStorage.font_css_cache_file===e}function n(){if(window.localStorage&&window.XMLHttpRequest)if(t(o))c(localStorage.font_css_cache);else{var n=new XMLHttpRequest;n.open("GET",o,!0),e(n,"load",function(){4===n.readyState&&(c(n.responseText),localStorage.font_css_cache=n.responseText,localStorage.font_css_cache_file=o)}),n.send()}else{var a=document.createElement("link");a.href=o,a.rel="stylesheet",a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a),document.cookie="font_css_cache";}}function c(e){var t=document.createElement("style");t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t),document.getElementsByTagName("html")[0].className+=' font-loaded'}var o="/assets/css/font.css";window.localStorage&&localStorage.font_css_cache||document.cookie.indexOf("font_css_cache")>-1?n():e(window,"load",n)}();

  </script> <link href="/humans.txt" rel="author" type="text/plain"/> <link href="https://bertrandkeller.info/feed/" rel="alternate" type="application/rss+xml" title="âœŠ&nbsp;Bertrand Keller RSS Feed"/> <meta name="google-site-verification" content="TLPgjqS26dGLPiEz9QUF3u5uaTQnvQRAc3HoaRvC_S8"/> <link rel="preconnect" href="https://res.cloudinary.com/"> <link rel="apple-touch-icon" href="/assets/favicons/apple-touch-icon.png"> <link rel="manifest" href="/manifest.webmanifest"> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5"> <meta name="theme-color" content="#000000"> </head> <body class="page" itemscope itemtype="http://schema.org/WebPage"> <div class="skip-links"> <a href="#main">Contenu principal</a> </div> <header class="site-header" role="banner"> <div class="site-header-top site-header-top__align wrapper"> <p class="site-logo"> <a class="site-title" href="/">âœŠ&nbsp;Bertrand Keller</a> </p> <nav class="nav-main nav-main__scroll" role="navigation"> <ul> <li><a class="page-link" href="/archives/" title="">Archives</a></li> <li><a class="page-link" href="/conseil-prestation-formation/" title="DÃ©veloppeur responsable sites Internet - Jekyll/Hugo/Eleventy/Nuxt - Low-Tech & Ã©co-conception">Prestations</a></li> <li><a class="page-link" href="/site-internet-conference-rouen/" title="IntÃ©grateur / dÃ©veloppeur - gÃ©nÃ©rateur de sites internet statiques, dÃ©clinaison HTML/CSS Ã  Rouen, Low-Tech et Ã©co-conception">Portfolio</a></li> </ul> </nav> </div> </header> <main id="main" role="main"> <div class="wrapper"> <article class="post"> <h1 class="post-title">DÃ©ploiement de votre premier site web statique sur IPFS</h1> <p class="post-meta"> 18 mai 2019 </p> <p>Traduction de lâ€™article <a href="https://medium.com/interplanetary-gatsby/the-complete-beginners-guide-to-deploying-your-first-static-website-to-ipfs-103b27e8822e">The Complete Beginnerâ€™s Guide to Deploying Your First Static Website to IPFS</a>.</p> <p>Pour cet article&#8239;? Parce que le web est centralisÃ© Ã  travers de grandes plateformes&#8239;; que cette centralisation permet de contrÃ´ler les flux, des contrÃ´ler les gens et de les taxer. Le web consiste Ã  permettre le libre Ã©change citoyen.</p> <p>Vous nâ€™avez besoin de rien savoir sur IPFS ou sur le Â« web distribuÃ© Â», pas mÃªme les gÃ©nÃ©rateurs de sites statiques. La premiÃ¨re Ã©tape consiste Ã  ouvrir votre terminal et Ã  taper ceci dans:</p> <div class="language-bash highlighter-rouge"><div class="highlight"> <pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> dwebsite/public
<span class="nb">cd </span>dwebsite
<span class="nb">echo</span> <span class="s1">'&lt;h1&gt;Hello, worlds!&lt;/h1&gt;'</span> <span class="o">&gt;&gt;</span> public/index.html

yarn global add @agentofuser/ipfs-deploy
ipd
</code></pre> </div></div> <p>Maintenant, asseyez-vous et observez les logs.</p> <div class="language-bash highlighter-rouge"><div class="highlight"> <pre class="highlight"><code>â„¹ ğŸ¤” No path argument specified. Looking <span class="k">for </span>common ones... 
âœ” ğŸ“‚ Found <span class="nb">local </span>public directory. Deploying that. 
âœ” ğŸšš public weighs 24 B. 
âœ” ğŸ“Œ Itâ€™s pinned to Infura now with <span class="nb">hash</span>: 
â„¹ ğŸ”— QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY 
âœ” ğŸ“‹ Copied HTTP gateway URL to clipboard: 
â„¹ ğŸ”— https://ipfs.infura.io/ipfs/QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY 
âœ” ğŸ„ Opened web browser <span class="o">(</span>call with <span class="nt">-O</span> to disable.<span class="o">)</span>
</code></pre> </div></div> <p>Et voilÃ . Votre propre l33t <a href="https://twitter.com/search?q=%23dweb">#dwebsite</a> (The Decentralized Web) en ligne sur le rÃ©seau <a href="https://cloudflare-ipfs.com/ipfs/QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY">Merkleverse</a>.</p> <h2 id="quest-ce-qui-vient-de-se-passer">Quâ€™est-ce qui vient de se passer?</h2> <p>Pas Ã©vident Ã  comprendre en une fois. Revenons un peu en arriÃ¨re et regardons-le au ralenti, avec quelques commentaires&nbsp;:</p> <h3 id="1-oÃ¹-Ã§a-se-passe-">1. OÃ¹ Ã§a se passe&#8239;?</h3> <p>Ã€ vrai dire, jâ€™aurais pu appeler <code>ipd ./public</code>, en passant le rÃ©pertoire Ã  dÃ©ployer (public) explicitement.</p> <p>Mais alors, vous ne verriez pas lâ€™emoji ğŸ¤” comme une sonde ipfs-deploy pour lâ€™une des nombreuses destinations, souvent non documentÃ©es, de <a href="https://github.com/agentofuser/ipfs-deploy/blob/8023d82b5df68076ca79bc684f45ea64e5e67c06/index.js#L75">construction habituellement utilisÃ©es par les gÃ©nÃ©rateurs de sites statiques</a>.</p> <div class="language-bash highlighter-rouge"><div class="highlight"> <pre class="highlight"><code>â„¹ ğŸ¤” No path argument specified. Looking <span class="k">for </span>common ones... 
âœ” ğŸ“‚ Found <span class="nb">local </span>public directory. Deploying that.
</code></pre> </div></div> <p>Oui, jâ€™ai en fait passÃ© au peigne fin le site <a href="https://staticgen.com">staticgen.com</a>, installÃ© plusieurs de ces gÃ©nÃ©rateurs de sites statiques et crÃ©Ã© de petits sites de test afin de pouvoir appliquer ce titre Â«&#8239;zÃ©ro configuration&#8239;Â».</p> <p>Câ€™est ce que recherche <em>ipfs-deploy</em> vous Ã©viter de le taper&nbsp;:</p> <div class="language-bash highlighter-rouge"><div class="highlight"> <pre class="highlight"><code>const guesses <span class="o">=</span> <span class="o">[</span>
  <span class="s1">'_site'</span>,         // jekyll, hakyll, eleventy
  <span class="s1">'site'</span>,          // forgot which
  <span class="s1">'public'</span>,        // gatsby, hugo
  <span class="s1">'dist'</span>,          // nuxt
  <span class="s1">'output'</span>,        // pelican
  <span class="s1">'out'</span>,           // hexo
  <span class="s1">'build'</span>,         // metalsmith, middleman
  <span class="s1">'website/build'</span>, // docusaurus
  <span class="s1">'docs'</span>,          // many others
<span class="o">]</span>
</code></pre> </div></div> <p>Comme vous pouvez le voir avec le nom de cette publication, je suis un fan de Gatsby, mais <em>ipfs-deploy</em> sert tous ceux qui en ont besoin. Apportez votre propre SSG (GÃ©nÃ©rateur de site statique), nous lÃ¢cherons un jetpack interplanÃ©taire sur notre dos et le ferons voler. ğŸš€</p> <h3 id="2-le-tÃ©lÃ©chargement">2. Le tÃ©lÃ©chargement</h3> <p>Câ€™est la raison pour laquelle nous sommes ici, câ€™est-Ã -dire placer le site web dans lâ€™espace (au figurÃ©, pour le moment). Donc, quelques secondes plus tard, <em>ipfs-deploy</em> fournit:</p> <div class="language-bash highlighter-rouge"><div class="highlight"> <pre class="highlight"><code>âœ” ğŸ“Œ Itâ€™s pinned to Infura now with <span class="nb">hash</span>:
â„¹ ğŸ”— QmQzKWGdjjQeTXrruYL2vLkCqRP8TyXnG1a9QEJjDM8WTY
</code></pre> </div></div> <p>Victoire !</p> <p>Cette petite gÃ©nÃ©ration/diffusion dâ€™un <a href="https://multiformats.io/multihash/">hash</a> est le nÅ“ud de tout le judo #dweb (The Decentralized Web). La formule magique qui appelle votre site Web depuis les profondeurs caverneuses des donjons connectÃ©s, sans se soucier de savoir oÃ¹ il se trouve, mais seulement de savoir de quoi il retourne.</p> <p><strong>Un adressage intrinsÃ¨que, non liÃ© par la localisation ou la route.</strong></p> <p>Bienvenue <attitude grave=""> dans le futur distribuÃ©.</attitude></p> <h2 id="attendez-une-minute-je-pensais-vous-avoir-entendu-dire-distribuÃ©">Attendez une minute, je pensais vous avoir entendu dire Â«&#8239;distribuÃ©&#8239;Â»</h2> <p>Oh, lecteur perspicace.</p> <p>Vous avez raison&nbsp;: si IPFS est censÃ© Ãªtre un protocole poste Ã  poste (pair Ã  pair), pourquoi tÃ©lÃ©charge-t-on tout de mÃªme lâ€™ensemble du site, nâ€™est-ce pas&#8239;? Pour un serveur !?</p> <p>Ne devrions-nous pas simplement annoncer au rÃ©seau que nous avons le hachage et ensuite attendre de le servir nous-mÃªmes Ã  dâ€™autres pairs Ã  la demande&#8239;?</p> <p>Oui, vous pouvez faire Ã§a. Ensuite, vous fermez votre ordinateur portable, le wifi diminue, ğŸ’© arrive, et pouf âœ¨, votre site web disparaÃ®t.</p> <p>Cela ressemble aux torrents&nbsp;: il faut au moins un semeur (personne qui possÃ¨de une copie complÃ¨te du fichier partagÃ© sur le rÃ©seau torrent.) pour que le contenu soit accessible. Si votre site web compte des tonnes de personnes qui exÃ©cutent leur propre nÅ“ud IPFS et le rÃ©-servent Ã  dâ€™autres, votre temps de disponibilitÃ© sera en moyenne assez Ã©levÃ©.</p> <p>Mais il nâ€™y a pas encore beaucoup de visiteurs de ce type (espÃ©rons-le, <a href="https://brave.com/">Brave</a> rÃ©glera ce problÃ¨me pour nous) et, en plus, câ€™est un tout nouveau site web !</p> <p>Ce serait une autre histoire si les navigateurs avaient un <a href="https://twitter.com/search?q=%23asyncUX">#asyncUX</a> dÃ©cent et que les visiteurs pouvaient facilement leur dire de mettre le tÃ©lÃ©chargement en file dâ€™attente lorsquâ€™un homologue est disponible, puis de lâ€™avertir lorsquâ€™il Ã©tait prÃªt (comme un flux continu Â« Ã  lire plus tard Â»).</p> <p>Mais dans lâ€™Ã©tat actuel des choses, sâ€™il nâ€™y a personne pour servir votre contenu au moment oÃ¹ une demande est faite, la situation est en suspend. Vous nâ€™Ãªtes donc pas <a href="https://interplanetarygatsby.com/foreword/">prÃªt pour lâ€™espace</a>.</p> <p>Nous avons donc besoin dâ€™un semoir Ã  haute disponibilitÃ© de notre cÃ´tÃ©. Ou, dans le jargon IPFS, un Â« pinner Â» (Ã©plinglage garantissant que les objets sont conservÃ©s dans le stockage local du noeud).</p> <h2 id="zero-config-pinning-avec-infuraio">Zero-Config Pinning avec Infura.io</h2> <p>Lâ€™objectif principal de <em>ipfs-deploy</em> est de vous permettre de vivre une premiÃ¨re expÃ©rience heureuse consistant Ã  voir quelque chose que vous avez crÃ©Ã© sur IPFS le plus rapidement possible.</p> <p>Une faÃ§on de le faire consiste Ã  exÃ©cuter un dÃ©mon IPFS local et rendre disponible le contenu vous-mÃªme.</p> <p>Mais comme nous lâ€™avons vu plus haut, ce serait un peu ridicule car cela ne reprÃ©sente pas ce Ã  quoi un dÃ©ploiement rÃ©el que vous pouvez partager avec vos amis pourrait ressembler. Je dois avoir un pinner stable.</p> <p>Bien Ã©pingler avec un temps de disponibilitÃ© dÃ©cent coÃ»te de lâ€™argent, alors la plupart des services dâ€™Ã©pinglage exigent naturellement que vous vous inscriviez au moins Ã  un niveau gratuit avant dâ€™accepter dâ€™hÃ©berger votre site web.</p> <p>Pas <a href="https://infura.io/docs/ipfs/get/block_get.md">Infura.io</a> !</p> <p>Par magie de la limitation prudente des taux, de la prÃ©vention intelligente des abus, du capital de croissance ou de lâ€™abandon tÃ©mÃ©raire, ils vous permettent de tÃ©lÃ©charger des Ã©lÃ©ments Ã  lâ€™abri, <a href="https://community.infura.io/t/how-often-do-you-garbage-collect-files-on-your-ipfs-node-and-how-long-will-a-file-persist-after-upload/44/2">sans authentification</a>, et ils vous le serviront indÃ©finiment. (MÃªme contre votre volontÃ© semble-t-il, car il nâ€™y a pas de moyen clair de dÃ©tacher les choses pour le moment.)</p> <p>Nous devons donc cette possibilitÃ© Ã  leur simple gÃ©nÃ©rositÃ©&nbsp;: merci Ã  Infura, et continuez comme Ã§a !</p> <p>De plus, si vous possÃ©dez vous-mÃªme un service dâ€™Ã©pinglage et que vous souhaitez faire partie du paquet de bienvenue de zÃ©ro-configuration, envisagez dâ€™ajouter un niveau Â« encore plus libre Â» qui ne nÃ©cessite pas dâ€™inscription.</p> <p>Les sites web statiques nouvellement crÃ©Ã©s ne prennent pas beaucoup de place, ont trÃ¨s peu de trafic et constituent une excellente passerelle pour une consommation accrue dâ€™IPFS.</p> <p>Vous nâ€™avez pas seulement dÃ©ployÃ© votre premier site web IPFS, mais vous pouvez maintenant vous vanter de bien comprendre son fonctionnement en agitant les mains et en disant Â« Oh, câ€™est un peu comme git + bittorrent Â»</p> <p>Alors, <a href="https://github.com/agentofuser/ipfs-deploy/issues/new">dites-moi ce qui ne va pas</a> et je vais rÃ©gler le problÃ¨me pour vous.</p> </article> <nav class="pagination--prevnext" role="navigation"> <div class="pagination--prev"> <a class="pagination--item" href="/2019/05/15/web-responsabilite/"> Ce que nous dÃ©truisons, notre responsabilitÃ©&#8239;? </a> </div> <div class="pagination--next"> <a class="pagination--item" href="/2019/06/05/integrateur-paysan/"> IntÃ©grateur paysan </a> </div> </nav> <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
      "@type": "ListItem",
      "position": 1,
      "item": {
        "@id": "/2019/",
        "name": "2019"
      }
    },{
      "@type": "ListItem",
      "position": 2,
      "item": {
        "@id": "/2019/05/",
        "name": "05"
      }
    },{
      "@type": "ListItem",
      "position": 3,
      "item": {
        "@id": "/2019/05/18/",
        "name": "18"
      }
    },{
      "@type": "ListItem",
      "position": 3,
      "item": {
        "@id": "/2019/05/18/deploiement-statique-ipfs/",
        "name": "DÃ©ploiement de votre premier site web statique sur IPFS"
      }
    }]
  }
</script> </div> </main> <script data-no-instant>
		if (navigator.serviceWorker) {
		  window.addEventListener('load', function () {
		    if (navigator.serviceWorker.controller) {
		      //navigator.serviceWorker.controller.postMessage({'command': 'trimCaches'});
		    } else {
		      navigator.serviceWorker.register('/sw.js', {
		        scope: '/'
		      });
		    }
		  });
		}
</script> </body> </html>